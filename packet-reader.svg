<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="610px" preserveAspectRatio="none" style="width:1593px;height:610px;background:#FFFFFF;" version="1.1" viewBox="0 0 1593 610" width="1593px" zoomAndPan="magnify"><defs><filter height="300%" id="fzrbklzxcfxqf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#F8F8F8" filter="url(#fzrbklzxcfxqf)" height="591.6094" rx="12.5" ry="12.5" style="stroke:#383838;stroke-width:1.5;" width="1574.368" x="7" y="7"/><rect fill="#FFFFFF" height="558" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="1568.368" x="10" y="37.6094"/><line style="stroke:#383838;stroke-width:1.5;" x1="7" x2="1581.368" y1="34.6094" y2="34.6094"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="129" x="729.684" y="26.5332">PacketReaderFSM</text><ellipse cx="393.366" cy="55.6094" fill="#000000" filter="url(#fzrbklzxcfxqf)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="PacketReaderFSM.RCVPCKT"><rect fill="#F8F8F8" filter="url(#fzrbklzxcfxqf)" height="50" rx="12.5" ry="12.5" style="stroke:#383838;stroke-width:1.5;" width="86" x="350.366" y="119.6094"/><line style="stroke:#383838;stroke-width:1.5;" x1="350.366" x2="436.366" y1="147.2188" y2="147.2188"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="66" x="360.366" y="139.1426">RCVPCKT</text></g><g id="PacketReaderFSM.RCVDATA"><rect fill="#F8F8F8" filter="url(#fzrbklzxcfxqf)" height="50" rx="12.5" ry="12.5" style="stroke:#383838;stroke-width:1.5;" width="85" x="53.866" y="263.6094"/><line style="stroke:#383838;stroke-width:1.5;" x1="53.866" x2="138.866" y1="291.2188" y2="291.2188"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="65" x="63.866" y="283.1426">RCVDATA</text></g><g id="PacketReaderFSM.RCVCHK"><rect fill="#F8F8F8" filter="url(#fzrbklzxcfxqf)" height="50" rx="12.5" ry="12.5" style="stroke:#383838;stroke-width:1.5;" width="79" x="714.866" y="263.6094"/><line style="stroke:#383838;stroke-width:1.5;" x1="714.866" x2="793.866" y1="291.2188" y2="291.2188"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="59" x="724.866" y="283.1426">RCVCHK</text></g><g id="PacketReaderFSM.RCVESC"><rect fill="#F8F8F8" filter="url(#fzrbklzxcfxqf)" height="50" rx="12.5" ry="12.5" style="stroke:#383838;stroke-width:1.5;" width="77" x="57.866" y="424.6094"/><line style="stroke:#383838;stroke-width:1.5;" x1="57.866" x2="134.866" y1="452.2188" y2="452.2188"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="57" x="67.866" y="444.1426">RCVESC</text></g><g id="PacketReaderFSM.RCVCHKESC"><rect fill="#F8F8F8" filter="url(#fzrbklzxcfxqf)" height="50" rx="12.5" ry="12.5" style="stroke:#383838;stroke-width:1.5;" width="107" x="573.866" y="424.6094"/><line style="stroke:#383838;stroke-width:1.5;" x1="573.866" x2="680.866" y1="452.2188" y2="452.2188"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="87" x="583.866" y="444.1426">RCVCHKESC</text></g><g id="PacketReaderFSM.CHKSUM"><rect fill="#F8F8F8" filter="url(#fzrbklzxcfxqf)" height="50" rx="12.5" ry="12.5" style="stroke:#383838;stroke-width:1.5;" width="82" x="1116.368" y="424.6094"/><line style="stroke:#383838;stroke-width:1.5;" x1="1116.368" x2="1198.368" y1="452.2188" y2="452.2188"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="62" x="1126.368" y="444.1426">CHKSUM</text></g><ellipse cx="1157.368" cy="572.6094" filter="url(#fzrbklzxcfxqf)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;fill:none;"/><ellipse cx="1157.868" cy="573.1094" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><!--MD5=[d5e19be9775b48f87b777a3a7c2ace4f]
link *start*PacketReaderFSM to RCVPCKT--><path d="M393.366,65.9204 C393.366,77.3614 393.366,97.3264 393.366,114.1514 " fill="none" id="*start*PacketReaderFSM-to-RCVPCKT" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="393.366,119.2594,397.366,110.2594,393.366,114.2594,389.366,110.2594,393.366,119.2594" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="296" x="394.366" y="97.6792">CTRL [{it == CharacterConstants.SOH}]</text><!--MD5=[223b5a4b9e3f449b8f8ae37661901ac5]
link RCVPCKT to RCVDATA--><path d="M350.182,147.4844 C259.135,151.8804 54.1274,164.2854 33.366,187.6094 C18,204.8724 23.1088,218.8994 33.366,239.6094 C37.2069,247.3644 42.9671,254.2074 49.4707,260.1184 " fill="none" id="RCVPCKT-to-RCVDATA" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="53.6057,263.6784,49.3939,254.7755,49.8161,260.4166,44.1751,260.8388,53.6057,263.6784" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="336" x="34.366" y="201.6792">CTRL [{it == CharacterConstants.STX}] -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="80" x="50.366" y="218.6528">addField()</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="34.366" y="235.6265">}</text><!--MD5=[8faa5056d0c6829674e5759c682e3918]
link RCVPCKT to RCVCHK--><path d="M436.533,144.9884 C517.975,144.7484 689.947,148.9734 732.366,187.6094 C751.671,205.1924 756.065,235.5214 756.304,258.1794 " fill="none" id="RCVPCKT-to-RCVCHK" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="756.291,263.1804,760.3116,254.1895,756.3024,258.1804,752.3116,254.1713,756.291,263.1804" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72" x="756.366" y="201.6792">BYTE -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="120" x="772.366" y="218.6528">addChecksum(it)</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="756.366" y="235.6265">}</text><!--MD5=[e6aec3718703e49bd175761eb2d8125e]
link RCVDATA to RCVDATA--><path d="M139.049,274.9794 C149.283,276.0444 156.866,280.5884 156.866,288.6094 C156.866,295.2524 151.666,299.5094 144.066,301.3824 " fill="none" id="RCVDATA-to-RCVDATA" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="139.049,302.2394,148.5945,304.665,143.9775,301.3965,147.2459,296.7795,139.049,302.2394" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72" x="162.866" y="276.6792">BYTE -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="88" x="178.866" y="293.6528">addByte(it)</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="162.866" y="310.6265">}</text><!--MD5=[64f6cabce6aefa4b6bef31bef7cb6dd4]
link RCVDATA to RCVPCKT--><path d="M138.902,285.7784 C207.574,281.9334 338.51,270.6404 371.366,239.6094 C388.777,223.1654 393.606,195.7924 394.474,174.8144 " fill="none" id="RCVDATA-to-RCVPCKT" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="394.614,169.6294,390.3737,178.5187,394.4797,174.6276,398.3709,178.7335,394.614,169.6294" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="336" x="394.366" y="201.6792">CTRL [{it == CharacterConstants.ETX}] -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="80" x="410.366" y="218.6528">endField()</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="394.366" y="235.6265">}</text><!--MD5=[754e15d195ce548844ee58ef62ee6881]
link RCVDATA to RCVESC--><path d="M65.1109,313.6164 C58.318,320.5474 52.0642,328.6814 48.366,337.6094 C36.6304,365.9414 35.6941,378.6834 48.366,406.6094 C50.6781,411.7044 53.9476,416.4254 57.7065,420.7194 " fill="none" id="RCVDATA-to-RCVESC" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="61.2827,424.5424,58.0557,415.2372,57.8671,420.8909,52.2134,420.7022,61.2827,424.5424" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="49.366" y="377.1792">ESC</text><!--MD5=[86c8456afa178ad3eb8ff5de0cac72b7]
link RCVESC to RCVDATA--><path d="M96.366,424.4944 C96.366,396.1764 96.366,349.2244 96.366,318.8554 " fill="none" id="RCVESC-to-RCVDATA" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="96.366,313.7584,92.366,322.7584,96.366,318.7584,100.366,322.7584,96.366,313.7584" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="64" x="97.366" y="360.1792">ESC -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="248" x="113.366" y="377.1528">addByte(CharacterConstants.ESC)</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="97.366" y="394.1265">}</text><!--MD5=[86c8456afa178ad3eb8ff5de0cac72b7]
link RCVESC to RCVDATA--><path d="M134.943,448.4254 C201.704,447.1974 334.435,440.4464 363.366,406.6094 C383.295,383.3004 383.039,361.1344 363.366,337.6094 C335.981,304.8624 213.499,294.4244 144.33,291.1204 " fill="none" id="RCVESC-to-RCVDATA-1" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="139.035,290.8764,147.8415,295.2861,144.0297,291.1063,148.2094,287.2945,139.035,290.8764" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72" x="379.366" y="360.1792">CTRL -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="88" x="395.366" y="377.1528">addByte(it)</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="379.366" y="394.1265">}</text><!--MD5=[ef53d8997df390aa77945a8e4dc9b41a]
link RCVCHK to RCVCHK--><path d="M793.872,274.8774 C804.13,275.7214 811.866,280.2984 811.866,288.6094 C811.866,295.4914 806.561,299.8134 798.911,301.5754 " fill="none" id="RCVCHK-to-RCVCHK" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="793.872,302.3414,803.3708,304.9437,798.8152,301.5901,802.1688,297.0345,793.872,302.3414" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72" x="817.866" y="276.6792">BYTE -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="120" x="833.866" y="293.6528">addChecksum(it)</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="817.866" y="310.6265">}</text><!--MD5=[713e34e975cc9ece7234860ca6efebe2]
link RCVCHK to RCVCHKESC--><path d="M714.702,294.8874 C668.295,301.9694 595.7,316.1914 579.366,337.6094 C560.769,361.9934 566.694,378.6834 579.366,406.6094 C581.678,411.7044 584.948,416.4254 588.706,420.7194 " fill="none" id="RCVCHK-to-RCVCHKESC" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="592.283,424.5424,589.0559,415.2372,588.8673,420.8909,583.2136,420.7024,592.283,424.5424" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="580.366" y="377.1792">ESC</text><!--MD5=[ca3ef35f4d7ec009fd43d62c7b92c8b2]
link RCVCHK to CHKSUM--><path d="M793.883,289.1524 C880.33,288.9944 1082.418,293.4844 1131.368,337.6094 C1153.878,357.9014 1158.758,393.6254 1159.048,419.0644 " fill="none" id="RCVCHK-to-CHKSUM" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="1159.048,424.3274,1163.048,415.3274,1159.048,419.3274,1155.048,415.3274,1159.048,424.3274" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="336" x="1160.368" y="360.1792">CTRL [{it == CharacterConstants.EOT}] -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="80" x="1176.368" y="377.1528">checksum()</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="1160.368" y="394.1265">}</text><!--MD5=[00429ecdfcda5695b8497d8e825643be]
link CHKSUM to *end*PacketReaderFSM--><path d="M1116.268,456.4014 C1076.278,462.9774 1019.659,475.1144 1006.366,492.6094 C992.384,511.0112 991.532,526.8874 1006.366,544.6094 C1023.568,565.1566 1107.028,570.0842 1141.948,571.2521 " fill="none" id="CHKSUM-to-*end*PacketReaderFSM" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="1147.128,571.4091,1138.2582,567.1282,1142.1305,571.2519,1138.0067,575.1243,1147.128,571.4091" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="280" x="1007.366" y="506.6792">«automatic» [{!checksumValid}] -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="80" x="1023.366" y="523.6528">sendNACK()</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="1007.366" y="540.6265">}</text><!--MD5=[00429ecdfcda5695b8497d8e825643be]
link CHKSUM to *end*PacketReaderFSM--><path d="M1198.378,451.6714 C1228.638,454.8734 1267.958,464.6324 1288.368,492.6094 C1301.988,511.2801 1302.968,526.6937 1288.368,544.6094 C1273.878,562.3917 1203.728,568.8082 1172.458,570.8109 " fill="none" id="CHKSUM-to-*end*PacketReaderFSM-1" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="1167.438,571.1155,1176.6618,574.5682,1172.429,570.8155,1176.1818,566.5827,1167.438,571.1155" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="272" x="1299.368" y="506.6792">«automatic» [{checksumValid}] -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72" x="1315.368" y="523.6528">sendACK()</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="1299.368" y="540.6265">}</text><!--MD5=[e1894b59b8980ef59ebd1ec82b6cd986]
link RCVCHKESC to RCVCHK--><path d="M620.253,424.1664 C614.767,399.9514 610.755,362.9194 628.366,337.6094 C646.616,311.3804 681.229,299.4754 709.565,294.0764 " fill="none" id="RCVCHKESC-to-RCVCHK" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="714.777,293.1424,705.2128,290.7917,709.8553,294.0238,706.6231,298.6664,714.777,293.1424" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="64" x="629.366" y="360.1792">ESC -&gt; {</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="280" x="645.366" y="377.1528">addChecksum(CharacterConstants.ESC)</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="629.366" y="394.1265">}</text><!--MD5=[e1894b59b8980ef59ebd1ec82b6cd986]
link RCVCHKESC to RCVCHK--><path d="M680.985,449.1284 C758.284,448.5994 895.199,442.4604 926.366,406.6094 C946.486,383.4654 944.909,362.0354 926.366,337.6094 C911.024,317.3994 844.978,303.4094 799.344,295.9484 " fill="none" id="RCVCHKESC-to-RCVCHK-1" style="stroke:#383838;stroke-width:1.0;"/><polygon fill="#383838" points="794.162,295.1144,802.4121,300.4935,799.0985,295.9088,803.6832,292.5951,794.162,295.1144" style="stroke:#383838;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="120" x="942.366" y="351.6792">CTRL -&gt; {byte-&gt;</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="168" x="958.366" y="368.6528">require(byte != null)</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="136" x="958.366" y="385.6265">addChecksum(byte)</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="942.366" y="402.6001">}</text><!--MD5=[6548386102630e6d51af5228fcd2e2db]
@startuml
skinparam monochrome true
skinparam StateFontName Helvetica
skinparam defaultFontName Monospaced
skinparam defaultFontStyle Bold
skinparam state {
    FontStyle Bold
}
state PacketReaderFSM {
[*] - -> RCVPCKT : CTRL [{it == CharacterConstants.SOH}]
RCVPCKT - -> RCVDATA : CTRL [{it == CharacterConstants.STX}] -> {\l  addField()\l}
RCVPCKT - -> RCVCHK : BYTE -> {\l  addChecksum(it)\l}
RCVDATA - -> RCVDATA : BYTE -> {\l  addByte(it)\l}
RCVDATA - -> RCVPCKT : CTRL [{it == CharacterConstants.ETX}] -> {\l  endField()\l}
RCVDATA - -> RCVESC : ESC
RCVESC - -> RCVDATA : ESC -> {\l  addByte(CharacterConstants.ESC)\l}
RCVESC - -> RCVDATA : CTRL -> {\l  addByte(it)\l}
RCVCHK - -> RCVCHK : BYTE -> {\l  addChecksum(it)\l}
RCVCHK - -> RCVCHKESC : ESC
RCVCHK - -> CHKSUM : CTRL [{it == CharacterConstants.EOT}] -> {\l  checksum()\l}
CHKSUM - -> [*] : <<automatic>> [{!checksumValid}] -> {\l  sendNACK()\l}
CHKSUM - -> [*] : <<automatic>> [{checksumValid}] -> {\l  sendACK()\l}
RCVCHKESC - -> RCVCHK : ESC -> {\l  addChecksum(CharacterConstants.ESC)\l}
RCVCHKESC - -> RCVCHK : CTRL -> {byte->\l  require(byte != null)\l  addChecksum(byte)\l}
}
@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CAT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: ZA
--></g></svg>