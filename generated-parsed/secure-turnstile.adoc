== SecureTurnstileFSM State Chart

=== Default State Map

|===
| Start | Event[Guard] | Target | Action

| LOCKED
| CARD `[{cardId->requireNotNull(cardId);isOverrideCard(cardId)&&overrideActive;}]`
| LOCKED
|  `{cancelOverride()}`

| LOCKED
| CARD `[{cardId->requireNotNull(cardId);isOverrideCard(cardId);}]`
| LOCKED
|  `{activateOverride()}`

| LOCKED
| CARD `[{cardId->requireNotNull(cardId);overrideActive\|\|isValidCard(cardId);}]`
| UNLOCKED
|  `{unlock()}`

| LOCKED
| CARD `[{cardId->requireNotNull(cardId){"cardId is required"};!isValidCard(cardId);}]`
| LOCKED
|  `{cardId->requireNotNull(cardId)invalidCard(cardId)}`

| UNLOCKED
| CARD `[{cardId->requireNotNull(cardId);isOverrideCard(cardId);}]`
| LOCKED
|  `{lock()}`

| UNLOCKED
| PASS
| LOCKED
|  `{lock()}`
|===

